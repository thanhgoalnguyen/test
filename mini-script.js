document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".js-faq-tag"),t=document.querySelector(".js-faq-content"),a=document.querySelectorAll(".js-faq-item-header"),i=document.querySelectorAll(".js-open-modal"),l=document.querySelectorAll(".js-close-modal"),n=document.querySelector(".js-response-swiper-wrapper"),o=document.querySelector(".js-step-content"),s=document.querySelectorAll(".js-step-tag"),r=document.querySelector(".js-simulation-form"),c=document.querySelector(".js-simulation-result-body"),d=document.querySelectorAll(".js-simulation-result-tag"),u=document.querySelector(".js-simulation-header-step-1"),p=document.querySelector(".js-simulation-header-step-2"),v=document.querySelector(".js-simulation-header-step-3"),b=document.querySelector(".js-price-modal-tag-wrapper"),k=document.querySelector(".js-price-modal-fee-bank"),B=document.querySelector(".js-price-modal-fee-mobile"),M=document.querySelector(".js-price-modal-save-bank"),f=document.querySelector(".js-price-modal-save-mobile"),g=document.querySelector(".js-price-modal-discount-bank"),m=document.querySelector(".js-price-modal-discount-mobile"),w=document.querySelector(".js-price-modal-price-bank"),y=document.querySelector(".js-price-modal-price-mobile"),E=document.querySelector(".js-price-modal-total"),h=document.querySelector(".js-scroll-top-button"),S={step1:[{label:"マンションタイプ",value:"apartment"},{label:"ファミリータイプ",value:"family"}],step2:[{label:"1ギガ",value:"1gbps"},{label:"10ギガ",value:"10gbps"}],step3:[{label:"USB型ルーター",value:"usb"},{label:"モバイルルーター",value:"mobile"}]},j=[{step1:"apartment",step2:"1gbps",step3:"mobile",type24:[{title:"初月",value:"0"},{title:"2~3ヵ月目",value:"1,320"},{title:"4~24ヵ月目",value:"5,500"}],type25:[{title:"25ヵ月目~",value:"8,030"}],priceTable:[{title:"初月",value:"row1",feeBank:"4,180",feeMobile:"3,850",saveBank:"0",saveMobile:"-3,850",discountBank:"-4,180",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"0"},{title:"2~3ヶ月目",value:"row2",feeBank:"4,180",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"-4,180",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"1,320"},{title:"4~24ヶ月目",value:"row3",feeBank:"4,180",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"5,500"},{title:"25~48ヶ月目",value:"row4",feeBank:"4,180",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"8,030"},{title:"49ヶ月目~",value:"row5",feeBank:"4,180",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"8,030"}]},{step1:"family",step2:"1gbps",step3:"mobile",type24:[{title:"初月",value:"0"},{title:"2~3ヵ月目",value:"1,320"},{title:"4~24ヵ月目",value:"7,040"}],type25:[{title:"25ヵ月目~",value:"9,570"}],priceTable:[{title:"初月",value:"row1",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-3,850",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"0"},{title:"2~3ヵ月",value:"row2",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"-5,720",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"1,320"},{title:"4~24ヵ月目",value:"row3",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"7,040"},{title:"25~49ヵ月目",value:"row4",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"9,570"},{title:"50ヵ月目~",value:"row5",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"9,570"}]},{step1:"apartment",step2:"10gbps",step3:"mobile",type24:[{title:"初月",value:"0"},{title:"2~6ヵ月目",value:"1,320"},{title:"7~24ヵ月目",value:"8,250"}],type25:[{title:"25ヵ月目~",value:"10,780"}],priceTable:[{title:"初月",value:"row1",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-3,850",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"0"},{title:"2~3ヵ月",value:"row2",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"-5,720",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"1,320"},{title:"4~24ヵ月目",value:"row3",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"7,040"},{title:"25~49ヵ月目",value:"row4",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"9,570"},{title:"50ヵ月目~",value:"row5",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"9,570"}]},{step1:"family",step2:"10gbps",step3:"mobile",type24:[{title:"初月",value:"0"},{title:"2~6ヵ月目",value:"1,320"},{title:"7~24ヵ月目",value:"8,250"}],type25:[{title:"25ヵ月目~",value:"10,780"}],priceTable:[{title:"初月",value:"row1",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-3,850",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"0"},{title:"2~3ヵ月",value:"row2",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"-5,720",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"1,320"},{title:"4~24ヵ月目",value:"row3",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"7,040"},{title:"25~49ヵ月目",value:"row4",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"9,570"},{title:"50ヵ月目~",value:"row5",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"9,570"}]},{step1:"apartment",step2:"1gbps",step3:"usb",type24:[{title:"初月",value:"0"},{title:"2~3ヵ月目",value:"1,100"},{title:"2~24ヵ月目",value:"5,280"}],type25:[{title:"25ヵ~49ヵ月目",value:"7,810"},{title:"50ヵ月目~",value:"8,030"}],priceTable:[{title:"初月",value:"row1",feeBank:"4,180",feeMobile:"3,850",saveBank:"0",saveMobile:"-3,850",discountBank:"-4,180",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"0"},{title:"2~3ヵ月",value:"row2",feeBank:"4,180",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"-4,180",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"1,100"},{title:"4~24ヵ月目",value:"row3",feeBank:"4,180",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"5,280"},{title:"25~49ヵ月目",value:"row4",feeBank:"4,180",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"7,810"},{title:"50ヵ月目~",value:"row5",feeBank:"4,180",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"8,030"}]},{step1:"family",step2:"1gbps",step3:"usb",type24:[{title:"初月",value:"0"},{title:"2~3ヵ月目",value:"1,100"},{title:"2~24ヵ月目",value:"6,820"}],type25:[{title:"25ヵ~49ヵ月目",value:"9,350"},{title:"50ヵ月目~",value:"9,570"}],priceTable:[{title:"初月",value:"row1",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-3,850",discountBank:"-5,720",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"0"},{title:"2~3ヵ月",value:"row2",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"-5,720",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"1,100"},{title:"4~24ヵ月目",value:"row3",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"6,820"},{title:"25~49ヵ月目",value:"row4",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"9,350"},{title:"50ヵ月目~",value:"row5",feeBank:"5,720",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"9,570"}]},{step1:"apartment",step2:"10gbps",step3:"usb",type24:[{title:"初月",value:"0"},{title:"2~3ヵ月目",value:"1,100"},{title:"2~24ヵ月目",value:"8,030"}],type25:[{title:"25ヵ~49ヵ月目",value:"10,560"},{title:"50ヵ月目~",value:"10,780"}],priceTable:[{title:"初月",value:"row1",feeBank:"6,930",feeMobile:"3,850",saveBank:"0",saveMobile:"-3,850",discountBank:"-6,930",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"0"},{title:"2~6ヵ月",value:"row2",feeBank:"6,930",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"-6,930",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"1,100"},{title:"7~24ヵ月目",value:"row3",feeBank:"6,930",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"8,250"},{title:"25~49ヵ月目",value:"row4",feeBank:"6,930",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"10,780"},{title:"50ヵ月目~",value:"row5",feeBank:"6,930",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"10,780"}]},{step1:"family",step2:"10gbps",step3:"usb",type24:[{title:"初月",value:"0"},{title:"2~3ヵ月目",value:"1,100"},{title:"2~24ヵ月目",value:"8,030"}],type25:[{title:"25ヵ~49ヵ月目",value:"10,560"},{title:"50ヵ月目~",value:"10,780"}],priceTable:[{title:"初月",value:"row1",feeBank:"6,930",feeMobile:"3,850",saveBank:"0",saveMobile:"-3,850",discountBank:"-6,930",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"0"},{title:"2~6ヵ月",value:"row2",feeBank:"6,930",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"-6,930",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"1,100"},{title:"7~24ヵ月目",value:"row3",feeBank:"6,930",feeMobile:"3,850",saveBank:"0",saveMobile:"-2,530",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"8,030"},{title:"25~49ヵ月目",value:"row4",feeBank:"6,930",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"10,560"},{title:"50ヵ月目~",value:"row5",feeBank:"6,930",feeMobile:"3,850",saveBank:"0",saveMobile:"0",discountBank:"0",discountMobile:"0",priceBank:"0",priceMobile:"0",total:"10,780"}]}];let q="",L=24,T=j?.[4];const x=()=>{let e="";T?.priceTable?.forEach((t=>{e+=`\n\t\t\t\t<button class="js-price-modal-tag" data-type="${t?.value}">${t?.title}</button>\n\t\t\t`})),b.innerHTML=e;const t=b.querySelectorAll(".js-price-modal-tag");t.forEach((e=>{e.addEventListener("click",(function(){const a=e?.dataset?.type,i=T?.priceTable?.find((e=>e?.value===a));t.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),k.innerText=i?.feeBank,B.innerText=i?.feeMobile,M.innerText=i?.saveBank,f.innerText=i?.saveMobile,g.innerText=i?.discountBank,m.innerText=i?.discountMobile,w.innerText=i?.priceBank,y.innerText=i?.priceMobile,E.innerText=i?.total}))})),t?.[0]?.click()},$=(e,t)=>{const a=document.querySelector(`.js-modal-${e}`);"open"===t?("price"===e&&x(),a.classList.add("show"),document.body.classList.add("overflow-hidden")):(a.classList.remove("show"),document.body.classList.remove("overflow-hidden"))};e.forEach((a=>{a.addEventListener("click",(function(){const i=a?.dataset?.type;e.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),t.setAttribute("data-type",i)}))})),a.forEach((e=>{e.addEventListener("click",(function(e){const t=e.target.parentElement,a=t.querySelector(".js-faq-item-body");t.classList.contains("active")?(t.classList?.remove("active"),a.style.height=0):(t.classList?.add("active"),a.style.height=a?.scrollHeight+"px")}))})),i.forEach((e=>{e.addEventListener("click",(function(){const t=e?.dataset?.type;$(t,"open")}))})),l.forEach((e=>{e.addEventListener("click",(function(){const t=e?.dataset?.type;$(t,"close")}))})),[{gender:"男性",genderEn:"male",age:"20",stars:5,review:"簡単に接続できる"},{gender:"女性",genderEn:"female",age:"30",stars:5,review:"価格"},{gender:"男性",genderEn:"male",age:"30",stars:5,review:"料金が安い"},{gender:"男性",genderEn:"male",age:"30",stars:5,review:"回線が安定している"},{gender:"女性",genderEn:"female",age:"50",stars:4,review:"通信が安定している"},{gender:"男性",genderEn:"male",age:"50",stars:5,review:"電池時間が短い"},{gender:"男性",genderEn:"male",age:"50",stars:5,review:"とても満足しています。"},{gender:"男性",genderEn:"male",age:"50",stars:5,review:"5Gが使える"},{gender:"男性",genderEn:"male",age:"40",stars:5,review:"家と外どちらでも"},{gender:"女性",genderEn:"female",age:"20",stars:5,review:"どこにいても"},{gender:"女性",genderEn:"female",age:"50",stars:4,review:"100GBあると"},{gender:"男性",genderEn:"male",age:"50",stars:5,review:"通信速度"},{gender:"女性",genderEn:"female",age:"30",stars:4,review:"外でも、使える"},{gender:"女性",genderEn:"female",age:"30",stars:5,review:"ワイファイの"},{gender:"男性",genderEn:"male",age:"50",stars:4,review:"主に外で使用"},{gender:"男性",genderEn:"male",age:"50",stars:4,review:"ポケットwifi"},{gender:"女性",genderEn:"female",age:"40",stars:5,review:"ホームルーター"},{gender:"男性",genderEn:"male",age:"40",stars:5,review:"長時間の外出"},{gender:"男性",genderEn:"male",age:"50",stars:4,review:"データ通信量"},{gender:"男性",genderEn:"male",age:"40",stars:5,review:"価格"},{gender:"男性",genderEn:"male",age:"40",stars:5,review:"家でも外でも"},{gender:"男性",genderEn:"male",age:"40",stars:5,review:"とても満足しています。"},{gender:"女性",genderEn:"female",age:"50",stars:5,review:"工事不要"},{gender:"男性",genderEn:"male",age:"50",stars:5,review:"速度がはやい"},{gender:"男性",genderEn:"male",age:"50",stars:4,review:"とても満足しています。"},{gender:"男性",genderEn:"male",age:"50",stars:4,review:"設置が簡単"},{gender:"女性",genderEn:"female",age:"30",stars:5,review:"外出時のネット環境"},{gender:"男性",genderEn:"male",age:"30",stars:5,review:"とても満足しています。"}].forEach((e=>{q+=`<div class="swiper-slide item">\n\t\t\t\t\t\t\t<div class="item-header">\n\t\t\t\t\t\t\t\t<img src="./assets/icon/response/${e?.genderEn}-${e?.age}.svg" alt="avatar" class="item-header__avatar" />\n\t\t\t\t\t\t\t\t<div class="item-header__info">\n\t\t\t\t\t\t\t\t\t<p class="title">満足度</p>\n\t\t\t\t\t\t\t\t\t<div class="star">\n\t\t\t\t\t\t\t\t\t\t<p>${e?.stars}</p>\n\t\t\t\t\t\t\t\t\t\t<img src="./assets/icon/response/star-${e?.stars}.svg" alt="star" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="general">\n\t\t\t\t\t\t\t\t\t\t<p>${e?.age}代</p>\n\t\t\t\t\t\t\t\t\t\t<p>／</p>\n\t\t\t\t\t\t\t\t\t\t<p>${e?.gender}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class="item-body">\n\t\t\t\t\t\t\t\t${e?.review}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>`})),n.innerHTML=q;const A=new Swiper(".response-swiper",{direction:"horizontal",slidesPerView:4.04,spaceBetween:24,centeredSlides:!0,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},autoplay:{delay:2e3,disableOnInteraction:!1},on:{init:function(){this.autoplay.stop()}}});new Swiper(".campaign-swiper",{direction:"horizontal",slidesPerView:3.278,spaceBetween:24,centeredSlides:!0,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"}});s.forEach((e=>{e.addEventListener("click",(function(){const t=e?.dataset?.type;o.setAttribute("data-type",t),s.forEach((e=>e.classList.remove("active"))),this.classList.add("active")}))}));const H=()=>{const e=new FormData(r),t=Object.fromEntries(e.entries()),a=j?.find((e=>e?.step1===t?.step1&&e?.step2===t?.step2&&e?.step3===t?.step3));T=a;const i=24==L?a?.type24:a?.type25;let l="";i?.forEach(((e,t)=>{l+=`\t\n\t\t\t\t<div class="item">\n\t\t\t\t\t<p class="item-title">${e?.title}</p>\n\t\t\t\t\t<div class="item-price">\n\t\t\t\t\t\t<p class="medium">${e?.value}</p>\n\t\t\t\t\t\t<p class="small">円</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t${i?.length>1&&t<i?.length-1?"<span></span>":""}\n\t\t\t`,c.innerHTML=l})),console.log(i)};d.forEach((e=>{e.addEventListener("click",(function(){const t=e?.dataset?.type;d.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),L=t,H()}))})),r.addEventListener("change",(function(e){const t=new FormData(e.currentTarget),a=Object.fromEntries(t.entries()),i=S?.step1?.find((e=>e?.value===a?.step1)),l=S?.step2?.find((e=>e?.value===a?.step2)),n=S?.step3?.find((e=>e?.value===a?.step3));u.innerText=i?.label,p.innerText=l?.label,v.innerText=n?.label,H()}));const O=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("show"),O.unobserve(e.target),e.target.classList?.contains("js-response-swiper")&&A?.autoplay?.start())}))}),{threshold:.4});document.querySelectorAll(".js-el-scroll").forEach((e=>{O.observe(e)})),h.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}));const _=()=>{window.scrollY>window.innerHeight/2?h.style.display="block":h.style.display="none"};window.addEventListener("scroll",(()=>{_()})),_()}));